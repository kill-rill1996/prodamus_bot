import datetime

from database.schemas import UserRel
from routers.utils import convert_date
from settings import settings


def get_welcome_message() -> str:
    """–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"""
    message = "<b>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ¬´–û—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É¬ª –∏ –æ–ø–ª–∞—Ç–∏—Ç–µ —Å–≤–æ–µ —É—á–∞—Å—Ç–∏–µ –≤ –∑–∞–∫—Ä—ã—Ç–æ–º –∫–∞–Ω–∞–ª–µ —Å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–º –ø–∏—Ç–∞–Ω–∏–µ–º –æ—Ç –®–µ–≤—ã.</b>\n\n"\
              "–ü–æ–¥–ø–∏—Å–∫–∞ –µ–∂–µ–º–µ—Å—è—á–Ω–∞—è. –í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç –±–æ—Ç.\n\n" \
              "<b>üìå –ß—Ç–æ –≤–∞—Å –∂–¥–µ—Ç:</b>\n- –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø–ª–∞–Ω—ã –ø–∏—Ç–∞–Ω–∏—è\n- –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã —Å –ø–æ—à–∞–≥–æ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏\n- –ù–µ –±–∞–Ω–∞–ª—å–Ω—ã–π –∏ –≤–∫—É—Å–Ω—ã–π —Ä–∞—Ü–∏–æ–Ω, –∫–æ—Ç–æ—Ä–æ–π –º–µ–Ω—è–µ—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ\n"\
              "- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –ø—Ä–∏–µ–º–æ–≤ –ø–∏—â–∏ –ø–æ–¥ –≤–∞—à –∫–∞–ª–æ—Ä–∞–∂\n- –ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü –¥–µ–ª–∞–µ–º —É–ø–æ—Ä –Ω–∞ –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è\n\n" \
              "–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–∞ ‚Äì —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –ø–æ–¥ –ª—é–±–æ–π –∫–∞–ª–æ—Ä–∞–∂ –∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã\n\n" \
              "<b>–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –≤—ã –±—É–¥–µ—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª, –∑–∞—è–≤–∫–∞ –±—É–¥–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</b>\n\n‚Üì‚Üì‚Üì"
    return message


def welcome_message_second() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Ö —É –∫–æ–≥–æ —É–∂–µ –±—ã–ª–∞"""
    message = "–î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª —Å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–º –ø–∏—Ç–∞–Ω–∏–µ–º –æ—Ç –®–µ–≤—ã –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ¬´–û—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É¬ª.\n\n" \
              "<b>–í–æ–∑–æ–±–Ω–æ–≤–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫:</b>\n" \
              "- –ê–≤—Ç–æ—Ä—Å–∫–∏–º –ø–ª–∞–Ω–∞–º –ø–∏—Ç–∞–Ω–∏—è –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å\n- –†–µ—Ü–µ–ø—Ç–∞–º —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏\n- –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–º—É –∏ –≤–∫—É—Å–Ω–æ–º—É —Ä–∞—Ü–∏–æ–Ω—É\n" \
              "- –ì–∏–±–∫–æ–π —Å–∏—Å—Ç–µ–º–µ –ø–æ–¥ –≤–∞—à –∫–∞–ª–æ—Ä–∞–∂\n- –°–µ–∑–æ–Ω–Ω—ã–º –ø–∏—Ç–∞–Ω–∏–µ–º\n- –°–ø–∏—Å–∫–æ–º –∑–∞–∫—É–ø–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –Ω–∞ –Ω–µ–¥–µ–ª—é\n\n" \
              "<i>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã. –ü–æ–¥–ø–∏—Å–∫–æ–π —É–ø—Ä–∞–≤–ª—è–µ—Ç–µ —á–µ—Ä–µ–∑ –±–æ—Ç.</i>"
    return message


def subscribe_message() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ª–æ–≤–∏—è—Ö –ø–æ–¥–ø–∏—Å–∫–∏"""
    message = "–†–æ–¥–Ω–∏—á–∫–∏, —è –ª–∏—á–Ω–æ –ø—Ä–∏–≥–ª–∞—à–∞—é –≤–∞—Å –≤ –Ω–∞—à –∑–∞–∫—Ä—ã—Ç—ã–π –∫–ª—É–± üîû\n\n" \
              "<b>–ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:</b>\n\n" \
              "- –∫—Ä—É—Ç—ã–µ –ü–ü —Ä–µ—Ü–µ–ø—Ç—ã –æ—Ç –º–µ–Ω—è –Ω–∞ –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é, —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞—Ç—å –≥–æ–ª–æ–≤—É \"—á—Ç–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å\"\n\n" \
              "- –ø–∏–∑–¥–∞—Ç—ã–µ –≥–∞–π–¥—ã –Ω–∞ —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ —Ç–µ–º—ã, —á—Ç–æ–±—ã –≤—ã –ø–æ–Ω—è–ª–∏, —á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º —Ö—É–¥–µ—Ç—å, –∞ —á—Ç–æ –Ω–∞–æ–±–æ—Ä–æ—Ç —Ç–æ—Ä–º–æ–∑–∏—Ç —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å\n\n" \
              "- –æ—Ç–≤–µ—Ç—ã –ª–∏—á–Ω–æ –æ—Ç –º–µ–Ω—è –Ω–∞ —Å–∞–º—ã–µ –≤–æ–ª–Ω—É—é—â–∏–µ –≤–∞—Å –≤–æ–ø—Ä–æ—Å—ã\n\n" \
              "- —á–µ–ª–µ–Ω–¥–∂–∏ –∏ —Ä–æ–∑—ã–≥—Ä—ã—à–∏\n\n" \
              "<i><b>–î–∞, –ø–æ–¥–ø–∏—Å–∫–∞ –ø–ª–∞—Ç–Ω–∞—è, –Ω–æ —Ü–µ–Ω–∞ –ø–æ–¥–∞—Ä–æ–∫ ‚Äì –≤—Å–µ–≥–æ 890 —Ä—É–±/–º–µ—Å</b></i>\n\n" \
              "–ê —á—Ç–æ–±—ã –≤–∞–º –±—ã–ª–æ –Ω–µ —Å—Ç—Ä–∞—à–Ω–æ, –º—ã —Å–¥–µ–ª–∞–ª–∏ <b>–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥</b> ‚Äì –ø–µ—Ä–≤—ã–µ 3 –¥–Ω—è –≤—ã –Ω–∏—á–µ–≥–æ –Ω–µ –ø–ª–∞—Ç–∏—Ç–µ. –ú–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –∑–∞–π—Ç–∏ –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –ø–æ–¥—Ö–æ–¥–∏—Ç —ç—Ç–æ –≤–∞–º –∏–ª–∏ –Ω–µ—Ç.\n\n" \
              "–ß—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–Ω–∞–ª–æ–º –ø–µ—Ä–≤—ã–µ 3 –¥–Ω—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ, —Ç—ã–∫–∞–π—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –∏ —è –ø—Ä–∏—à–ª—é —Å—Å—ã–ª–∫—É ‚¨áÔ∏è"
    # message = "–†–æ–¥–Ω–∏—á–∫–∏, —è –ª–∏—á–Ω–æ –ø—Ä–∏–≥–ª–∞—à–∞—é –≤–∞—Å –≤ –Ω–∞—à –∑–∞–∫—Ä—ã—Ç—ã–π –∫–ª—É–± üîû\n\n" \
    #           "<b>–ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:</b>\n\n" \
    #           "- –∫—Ä—É—Ç—ã–µ –ü–ü —Ä–µ—Ü–µ–ø—Ç—ã –æ—Ç –º–µ–Ω—è –Ω–∞ –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é, —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞—Ç—å –≥–æ–ª–æ–≤—É \"—á—Ç–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å\"\n\n" \
    #           "- –ø–∏–∑–¥–∞—Ç—ã–µ –≥–∞–π–¥—ã –Ω–∞ —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ —Ç–µ–º—ã, —á—Ç–æ–±—ã –≤—ã –ø–æ–Ω—è–ª–∏, —á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º —Ö—É–¥–µ—Ç—å, –∞ —á—Ç–æ –Ω–∞–æ–±–æ—Ä–æ—Ç —Ç–æ—Ä–º–æ–∑–∏—Ç —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å\n\n" \
    #           "- –æ—Ç–≤–µ—Ç—ã –ª–∏—á–Ω–æ –æ—Ç –º–µ–Ω—è –Ω–∞ —Å–∞–º—ã–µ –≤–æ–ª–Ω—É—é—â–∏–µ –≤–∞—Å –≤–æ–ø—Ä–æ—Å—ã\n\n" \
    #           "- —á–µ–ª–µ–Ω–¥–∂–∏ –∏ —Ä–æ–∑—ã–≥—Ä—ã—à–∏\n\n" \
    #           "<i><b>–î–∞, –ø–æ–¥–ø–∏—Å–∫–∞ –ø–ª–∞—Ç–Ω–∞—è, –Ω–æ —Ü–µ–Ω–∞ –ø–æ–¥–∞—Ä–æ–∫ ‚Äì –≤—Å–µ–≥–æ 890 —Ä—É–±/–º–µ—Å</b></i>\n\n" \
    #           "–ß—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–Ω–∞–ª–æ–º, —Ç—ã–∫–∞–π—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –∏ —è –ø—Ä–∏—à–ª—é —Å—Å—ã–ª–∫—É ‚¨áÔ∏è"
    return message


def get_status_message(is_active: bool, expire_date: datetime.datetime) -> str:
    """Status message"""

    # –ø–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞
    if is_active:
        message = "–°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª —Å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–º –ø–∏—Ç–∞–Ω–∏–µ–º –æ—Ç –®–µ–≤—ã:\n\n" \
                  "‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞\n\n" \
                  f"–î–æ—Å—Ç—É–ø –∫ –∫–∞–Ω–∞–ª—É –æ—Ç–∫—Ä—ã—Ç –¥–æ {convert_date(expire_date)}\n" \
                  f"–°–ª–µ–¥—É—é—â–µ–µ —Å–ø–∏—Å–∞–Ω–∏–µ {convert_date(expire_date - datetime.timedelta(days=1))}\n\n" \
                  f"*<i>–í—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É —á–µ—Ä–µ–∑ –º–µ–Ω—é –±–æ—Ç–∞</i>"

    # –µ—Å–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞
    else:
        # –µ—Å–ª–∏ –æ–ø–ª–∞—á–µ–Ω–Ω—ã–π —Å—Ä–æ–∫ –µ—â–µ –Ω–µ –≤—ã—à–µ–ª
        if expire_date is not None and expire_date.date() >= datetime.datetime.now().date():
            message = "–°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª —Å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–º –ø–∏—Ç–∞–Ω–∏–µ–º –æ—Ç –®–µ–≤—ã:\n\n" \
                      "‚õîÔ∏è –ü–æ–¥–ø–∏—Å–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞\n" \
                      f"‚ö†Ô∏è –î–æ—Å—Ç—É–ø –∫ –∫–∞–Ω–∞–ª—É –æ—Ç–∫—Ä—ã—Ç –¥–æ {convert_date(expire_date)}\n\n" \
                      f"<i>*–í—ã —Å–º–æ–∂–µ—Ç–µ –æ—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –∑–∞–Ω–æ–≤–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è {convert_date(expire_date)}</i>"
        # –µ—Å–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∞ —É–∂–µ –∫–æ–Ω—á–∏–ª–∞—Å—å
        else:
            message = "–°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª —Å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–º –ø–∏—Ç–∞–Ω–∏–µ–º –æ—Ç –®–µ–≤—ã:\n\n" \
                      "‚õîÔ∏è –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞\n\n" \
                      f"*<i>–í—ã –º–æ–∂–µ—Ç–µ –æ—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –∑–∞–Ω–æ–≤–æ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É /oplata</i>"

    return message


def get_cancel_subscribe_message(expire_date: datetime.datetime) -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—Ç–º–µ–Ω–µ –ø–æ–¥–ø–∏—Å–∫–∏"""
    message = "‚õîÔ∏è –í–∞—à–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞\n\n" \
              f"–î–æ—Å—Ç—É–ø –∫ –∫–∞–Ω–∞–ª—É –±—É–¥–µ—Ç –ø—Ä–µ–∫—Ä–∞—â—ë–Ω: {convert_date(expire_date)}.\n\n" \
              f"–í—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –æ—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –∑–∞–Ω–æ–≤–æ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã /oplata"

    return message


def get_vopros_message() -> str:
    """Help message"""
    message = "–ï—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –∫–∞–∫–∏–µ-—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–ø–ª–∞—Ç–æ–π –Ω–∞–ø–∏—à–∏ –Ω–∞—à–µ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—É " \
              "@andrey_vismon - –æ–Ω –ø–æ–º–æ–∂–µ—Ç —Å –≤–∞—à–µ–π –ø—Ä–æ–±–ª–µ–º–æ–π –∏–ª–∏ –æ—Ç–≤–µ—Ç–∏—Ç –Ω–∞ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã."
    return message